# JackyRoom 2.0 é¡¹ç›®ç»“æ„è¯´æ˜

## ğŸ“ ç›®å½•ç»“æ„

```
ZipStore/
â”œâ”€â”€ ğŸ“„ æ ¸å¿ƒæ–‡ä»¶
â”‚   â”œâ”€â”€ server.js              # æœåŠ¡å™¨å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ app-config.js           # åº”ç”¨é…ç½®æ–‡ä»¶ï¼ˆä¸»é¢˜ã€èœå•ç­‰ï¼‰
â”‚   â””â”€â”€ package.json           # Node.js é¡¹ç›®é…ç½®
â”‚
â”œâ”€â”€ ğŸ“‚ core/                    # æ ¸å¿ƒå¼•æ“
â”‚   â”œâ”€â”€ layout-engine.js        # å¸ƒå±€æ¸²æŸ“å¼•æ“
â”‚   â”œâ”€â”€ module-loader.js       # æ¨¡å—åŠ è½½å™¨
â”‚   â””â”€â”€ db-access.js           # æ•°æ®åº“è®¿é—®å±‚
â”‚
â”œâ”€â”€ ğŸ“‚ modules/                 # ä¸šåŠ¡æ¨¡å—
â”‚   â”œâ”€â”€ home/                   # é¦–é¡µæ¨¡å—
â”‚   â”œâ”€â”€ blog/                   # åšå®¢æ¨¡å—
â”‚   â”œâ”€â”€ gallery/                # ç”»å»Šæ¨¡å—
â”‚   â”œâ”€â”€ moments/                # åŠ¨æ€æ¨¡å—
â”‚   â”œâ”€â”€ resources/              # èµ„æºæ¨¡å—
â”‚   â”œâ”€â”€ games/                  # æ¸¸æˆæ¨¡å—
â”‚   â”œâ”€â”€ chat/                   # èŠå¤©æ¨¡å—
â”‚   â””â”€â”€ admin/                  # ç®¡ç†æ¨¡å—
â”‚
â”œâ”€â”€ ğŸ“‚ public/                  # é™æ€èµ„æº
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â”œâ”€â”€ core.css           # æ ¸å¿ƒæ ·å¼ï¼ˆå¸ƒå±€ã€ä¸»é¢˜ï¼‰
â”‚   â”‚   â””â”€â”€ modules.css         # æ¨¡å—æ ·å¼
â”‚   â””â”€â”€ js/
â”‚       â”œâ”€â”€ core.js             # æ ¸å¿ƒäº¤äº’è„šæœ¬
â”‚       â””â”€â”€ app-interactions.js # åº”ç”¨äº¤äº’è„šæœ¬
â”‚
â”œâ”€â”€ ğŸ“‚ data/                    # æ•°æ®å­˜å‚¨
â”‚   â””â”€â”€ jackyroom.db           # SQLite æ•°æ®åº“æ–‡ä»¶
â”‚
â”œâ”€â”€ ğŸ“‚ scripts/                 # å¯åŠ¨å’Œç®¡ç†è„šæœ¬
â”‚   â”œâ”€â”€ start.bat              # å¯åŠ¨æœåŠ¡å™¨
â”‚   â”œâ”€â”€ init-data.bat           # åˆå§‹åŒ–æµ‹è¯•æ•°æ®
â”‚   â”œâ”€â”€ reset-db.bat           # é‡ç½®æ•°æ®åº“
â”‚   â””â”€â”€ seed.js                 # æ•°æ®ç§å­è„šæœ¬
â”‚
â””â”€â”€ ğŸ“‚ tools/                   # å¼€å‘å·¥å…·ï¼ˆåˆå§‹åŒ–è„šæœ¬ï¼‰
    â”œâ”€â”€ setup_core.js           # æ ¸å¿ƒåœ°åŸºæ„å»ºå™¨
    â””â”€â”€ install_features.js     # åŠŸèƒ½æ¨¡å—å®‰è£…å™¨
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨æœåŠ¡å™¨

#### å¼€å‘æ¨¡å¼ï¼ˆæ¨è - æ”¯æŒçƒ­é‡è½½ï¼‰
```bash
# æ–¹å¼ä¸€ï¼šä½¿ç”¨è„šæœ¬ï¼ˆæ¨èï¼‰
å¼€å‘æ¨¡å¼.bat

# æ–¹å¼äºŒï¼šä½¿ç”¨ npm
npm run dev
```
**å¼€å‘æ¨¡å¼ç‰¹ç‚¹**ï¼š
- âœ… ä¿®æ”¹ä»£ç åè‡ªåŠ¨é‡å¯æœåŠ¡å™¨
- âœ… æ— éœ€æ‰‹åŠ¨é‡å¯ï¼Œæé«˜å¼€å‘æ•ˆç‡
- âœ… ç›‘å¬æ‰€æœ‰ `.js`ã€`.css`ã€`.json` æ–‡ä»¶

#### æ™®é€šæ¨¡å¼ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
```bash
# æ–¹å¼ä¸€ï¼šä½¿ç”¨è„šæœ¬
å¯åŠ¨.bat

# æ–¹å¼äºŒï¼šä½¿ç”¨ npm
npm start
```

### 2. è®¿é—®ç½‘ç«™
æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š`http://localhost:3000`

### 3. å¼€å‘å·¥ä½œæµ
1. è¿è¡Œ `å¼€å‘æ¨¡å¼.bat` å¯åŠ¨æœåŠ¡å™¨
2. ä¿®æ”¹ä»£ç æ–‡ä»¶ï¼ˆ`.js`ã€`.css` ç­‰ï¼‰
3. ä¿å­˜æ–‡ä»¶ï¼ˆ`Ctrl+S`ï¼‰
4. ç­‰å¾… 1-2 ç§’ï¼ŒæœåŠ¡å™¨è‡ªåŠ¨é‡å¯
5. åœ¨æµè§ˆå™¨ä¸­åˆ·æ–°é¡µé¢ï¼ˆ`F5`ï¼‰æŸ¥çœ‹æ•ˆæœ

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### ä¿®æ”¹ä¸»é¡µæ ·å¼
- **æ ¸å¿ƒæ ·å¼**ï¼šç¼–è¾‘ `public/css/core.css`
- **ä¸»é¢˜é…ç½®**ï¼šç¼–è¾‘ `app-config.js` ä¸­çš„ `theme` éƒ¨åˆ†

### ä¿®æ”¹åŠŸèƒ½æ ·å¼
- **æ¨¡å—æ ·å¼**ï¼šç¼–è¾‘ `public/css/modules.css`
- **ç‰¹å®šæ¨¡å—**ï¼šç¼–è¾‘å¯¹åº”æ¨¡å—ç›®å½•ä¸‹çš„ä»£ç 

### æ·»åŠ æ–°åŠŸèƒ½æ¨¡å—
1. åœ¨ `modules/` ç›®å½•ä¸‹åˆ›å»ºæ–°æ–‡ä»¶å¤¹
2. åˆ›å»º `index.js` æ–‡ä»¶ï¼Œå¯¼å‡ºæ¨¡å—é…ç½®
3. åœ¨ `app-config.js` çš„ `menu` æ•°ç»„ä¸­æ·»åŠ èœå•é¡¹

### ä¿®æ”¹èœå•é…ç½®
ç¼–è¾‘ `app-config.js` ä¸­çš„ `menu` æ•°ç»„ï¼š
```javascript
menu: [
    { type: 'header', label: 'åˆ†ç»„æ ‡é¢˜' },  // åˆ†ç»„æ ‡é¢˜
    { id: 'module-id', label: 'èœå•åç§°', path: '/path', icon: 'fa-icon' }
]
```

## ğŸ“ æ–‡ä»¶åˆ†ç±»è¯´æ˜

### æ ¸å¿ƒæ–‡ä»¶ï¼ˆæ ¹ç›®å½•ï¼‰
- `server.js` - Express æœåŠ¡å™¨å…¥å£
- `app-config.js` - å…¨å±€é…ç½®ï¼ˆä¸»é¢˜ã€èœå•ã€ç«™ç‚¹ä¿¡æ¯ï¼‰
- `package.json` - é¡¹ç›®ä¾èµ–å’Œè„šæœ¬

### æ ¸å¿ƒå¼•æ“ï¼ˆcore/ï¼‰
- `layout-engine.js` - HTML å¸ƒå±€æ¸²æŸ“
- `module-loader.js` - åŠ¨æ€åŠ è½½ä¸šåŠ¡æ¨¡å—
- `db-access.js` - æ•°æ®åº“æ“ä½œå°è£…

### ä¸šåŠ¡æ¨¡å—ï¼ˆmodules/ï¼‰
æ¯ä¸ªæ¨¡å—åŒ…å«ï¼š
- `index.js` - æ¨¡å—å®šä¹‰ï¼ˆè·¯ç”±ã€å…ƒæ•°æ®ï¼‰

### é™æ€èµ„æºï¼ˆpublic/ï¼‰
- `css/core.css` - æ ¸å¿ƒæ ·å¼ï¼ˆå¸ƒå±€ã€ä¸»é¢˜ã€å¯¼èˆªï¼‰
- `css/modules.css` - æ¨¡å—ç‰¹å®šæ ·å¼
- `js/core.js` - æ ¸å¿ƒ JavaScriptï¼ˆèœå•åˆ‡æ¢ç­‰ï¼‰
- `js/app-interactions.js` - åº”ç”¨äº¤äº’ï¼ˆç‚¹èµã€è¯„è®ºç­‰ï¼‰

### å¯åŠ¨è„šæœ¬ï¼ˆscripts/ï¼‰
- `start.bat` - å¯åŠ¨æœåŠ¡å™¨ï¼ˆè‡ªåŠ¨æ£€æŸ¥ç¯å¢ƒï¼‰
- `init-data.bat` - åˆå§‹åŒ–æµ‹è¯•æ•°æ®
- `reset-db.bat` - é‡ç½®æ•°æ®åº“

### å¼€å‘å·¥å…·ï¼ˆtools/ï¼‰
- `setup_core.js` - é¦–æ¬¡å®‰è£…æ—¶æ„å»ºæ ¸å¿ƒæ–‡ä»¶
- `install_features.js` - å®‰è£…ä¸šåŠ¡åŠŸèƒ½æ¨¡å—

## âš™ï¸ é…ç½®è¯´æ˜

### ä¸»é¢˜é…ç½®ï¼ˆapp-config.jsï¼‰
```javascript
theme: {
    colors: {
        primary: "#6366f1",      // ä¸»è‰²è°ƒ
        secondary: "#ec4899",     // æ¬¡è¦è‰²
        accent: "#06b6d4",        // å¼ºè°ƒè‰²
        background: "#0f172a",   // èƒŒæ™¯è‰²
        text: "#f8fafc",         // æ–‡å­—è‰²
        textMuted: "#94a3b8"     // æ¬¡è¦æ–‡å­—è‰²
    },
    glass: {
        opacity: "0.75",          // ç»ç’ƒæ•ˆæœé€æ˜åº¦
        blur: "20px",            // æ¨¡ç³Šåº¦
        border: "rgba(255, 255, 255, 0.1)"  // è¾¹æ¡†è‰²
    }
}
```

### èœå•é…ç½®ï¼ˆapp-config.jsï¼‰
```javascript
menu: [
    // åˆ†ç»„æ ‡é¢˜
    { type: 'header', label: 'åˆ†ç»„åç§°' },
    // èœå•é¡¹
    { 
        id: 'module-id',           // æ¨¡å— ID
        label: 'æ˜¾ç¤ºåç§°',          // èœå•æ˜¾ç¤ºæ–‡æœ¬
        path: '/path',             // è·¯ç”±è·¯å¾„
        icon: 'fa-solid fa-icon'   // Font Awesome å›¾æ ‡
    }
]
```

## ğŸ”§ å¸¸ç”¨æ“ä½œ

### é‡ç½®é¡¹ç›®
1. åˆ é™¤ `node_modules` æ–‡ä»¶å¤¹
2. åˆ é™¤ `data/jackyroom.db` æ–‡ä»¶
3. è¿è¡Œ `scripts\start.bat` é‡æ–°åˆå§‹åŒ–

### æ·»åŠ æ–°æ¨¡å—
1. åœ¨ `modules/` åˆ›å»ºæ–°æ–‡ä»¶å¤¹
2. åˆ›å»º `index.js` å¹¶å¯¼å‡ºæ¨¡å—
3. åœ¨ `app-config.js` æ·»åŠ èœå•é¡¹

### ä¿®æ”¹ç«¯å£
ç¼–è¾‘ `app-config.js`ï¼š
```javascript
dev: { port: 3000 }  // ä¿®æ”¹ä¸ºä½ æƒ³è¦çš„ç«¯å£
```

## ğŸ“Œ æ³¨æ„äº‹é¡¹

1. **ä¸è¦åˆ é™¤** `core/` ç›®å½•ä¸‹çš„æ–‡ä»¶
2. **ä¸è¦ä¿®æ”¹** `tools/` ä¸­çš„è„šæœ¬ï¼Œé™¤éä½ çŸ¥é“åœ¨åšä»€ä¹ˆ
3. **å¤‡ä»½** `app-config.js` å’Œ `data/jackyroom.db` åå†è¿›è¡Œé‡å¤§ä¿®æ”¹
4. ä¿®æ”¹é…ç½®åéœ€è¦**é‡å¯æœåŠ¡å™¨**æ‰èƒ½ç”Ÿæ•ˆ

## ğŸ¨ æ ·å¼ä¿®æ”¹æŒ‡å—

### ä¿®æ”¹å…¨å±€ä¸»é¢˜è‰²
ç¼–è¾‘ `app-config.js` â†’ `theme.colors`

### ä¿®æ”¹å¯¼èˆªæ æ ·å¼
ç¼–è¾‘ `public/css/core.css` â†’ `.nav-item`, `.nav-header`

### ä¿®æ”¹å¡ç‰‡æ ·å¼
ç¼–è¾‘ `public/css/core.css` â†’ `.glass-card`

### ä¿®æ”¹æ¨¡å—ç‰¹å®šæ ·å¼
ç¼–è¾‘ `public/css/modules.css` æˆ–å¯¹åº”æ¨¡å—çš„ä»£ç 

---

**ç‰ˆæœ¬**: 2.0.0  
**æœ€åæ›´æ–°**: 2025-12-03

